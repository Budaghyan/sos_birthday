<!DOCTYPE html>
<html lang="hy">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéÇ ’ç’∏’Ω’´ ’ø’°÷Ä’•’§’°÷Ä’± üéÇ</title>

  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="images/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="images/favicon-512x512.png">
  <meta name="theme-color" content="#333333">
  
  <style>
    html, body {
      margin: 0;
      font-family: "Comic Sans MS", cursive, sans-serif;
      background: url("images/background.jpg") no-repeat center center fixed;
      background-size: cover;
      text-align: center;
      color: #333;
      height: 100%;
      overflow-y: auto;
      overflow-x: hidden;
    }

    .card {
      margin: 30px auto;
      background: rgba(102, 102, 102, 0.3);
      border-radius: 20px;
      padding: 30px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 0 25px rgba(0,0,0,0.3);
      box-sizing: border-box;
      animation: slideUp 1s ease-out;
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 { color: #dbdbdb; font-size: 2em; }
    h3 { color: #fffff0; font-size: 1.3em; }

    input, select, button {
      font-family: inherit;
    }

    input {
      width: 88%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.5);
    }

    select {
      width: 93%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.5);
   }

    button {
      width: 70%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      font-size: 16px;
      background: rgba(0, 0, 0, 0.9);
      color: #fff;
      border: none;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }

    button:hover { background: rgba(124, 124, 124, 0.9); }

    ::placeholder { color: #000; }

    .popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 999;
      justify-content: center;
      align-items: center;
    }
    
    .popup-content {
      background: #fff;
      padding: 20px 30px;
      border-radius: 15px;
      text-align: center;
      max-width: 300px;
      width: 80%;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      animation: popIn 0.3s ease;
    }
    
    @keyframes popIn {
      from { transform: scale(0.7); opacity: 0; }
      to   { transform: scale(1); opacity: 1; }
    }
    
    .popup-content p {
      font-size: 1.2em;
      margin-bottom: 15px;
    }
    
    .popup-content button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background: #333;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    
    .popup-content button:hover {
      background: #666;
    }

    .popup.fade-out {
      animation: fadeOut 0.5s forwards;
    }
    
    @keyframes fadeOut {
      from { opacity: 1; }
      to   { opacity: 0; }
    }

    #countdown {
      font-size: 1.3em;
      color: #fff;
      margin: 20px 0;
    }

    /* üéµ (3) –ö–Ω–æ–ø–∫–∞ –º—É–∑—ã–∫–∏ (—Ç–µ–ø–µ—Ä—å —Å–∫—Ä—ã—Ç–∞—è) */
    #music-btn {
      display: none; /* –∫–Ω–æ–ø–∫–∞ —Ç–µ–ø–µ—Ä—å —Å–∫—Ä—ã—Ç–∞ */
    }

    /* üí• –ö–æ–Ω—Ñ–µ—Ç—Ç–∏-—Å–ª–æ–π */
    #confetti-canvas {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 2000;
    }
  </style>
</head>
<body>
  <!-- üéµ (3) –ú—É–∑—ã–∫–∞ -->
  <audio id="bg-music" loop>
    <source src="music/happy_birthday.mp3" type="audio/mpeg">
  </audio>
  <button id="music-btn">üîä ’ä’°÷Ä’•’û’∂÷Ñ</button>

  <!-- üí• Canvas –¥–ª—è –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ -->
  <canvas id="confetti-canvas"></canvas>

  <div id="popup" class="popup">
    <div class="popup-content">
      <p id="popup-message"></p>
      <button onclick="closePopup()">’ì’°’Ø’•’¨</button>
    </div>
  </div>

  <div class="card" id="main-card">
    <h1>’Ñ’•’∂÷Ñ ’∑’∏÷Ç’ø’∏’æ 5 ’ø’°÷Ä’•’Ø’°’∂ ’•’∂÷Ñ</h1>
    <p style="color: #fffff0; font-size: 1.2em;">’ç’´÷Ä’∏’æ ’∞÷Ä’°’æ’´÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ’±’•’¶` <br>’¥’°’Ω’∂’°’Ø÷Å’•’¨’∏÷Ç <b>’ç’∏’Ω’´</b> ’Æ’∂’∂’§’µ’°’∂ ÷á ’¥’°’ø’°’≤’´ ’°÷Ä’°÷Ä’∏’≤’∏÷Ç’©’µ’°’∂’® ÷á ’¥’•’¶ ’∞’•’ø ’Ø’´’Ω’•’¨’∏÷Ç ’°’µ’§ ’Ø’°÷Ä÷á’∏÷Ä ’∏÷Ç ’∞’´’∑’°÷Ä’™’°’∂ ÷Ö÷Ä’®</p>
    <p style="color: #fffff0; font-size: 1.2em;">’ç’´÷Ä’∏’æ ’Ø’Ω’∫’°’Ω’•’∂÷Ñ ’±’•’¶’ù <br><span style="text-align: center;"><b>üìÖ 27 ’Ü’∏’µ’•’¥’¢’•÷Ä’´ 2025<br>üìç ‘ø’´’¨’´’Ø’´’∏ ’£’°÷Ä’§’•’∂ <br>üïï ‘∫’°’¥’® 18:00</span></b></p>
    <p id="countdown"></p>
    <p><a href="https://yandex.com/maps/-/CLBII2kZ" style="color: #fffff0; font-size: 1.2em;"><b>‘ª’∂’π’∫’•’û’Ω ’∞’°’Ω’∂’•’¨</b></a></p>
    <h3 style="font-style: normal;">‘Ω’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ’∞’°’Ω’ø’°’ø’•’¨ ’±’•÷Ä ’¥’°’Ω’∂’°’Ø÷Å’∏÷Ç’©’µ’∏÷Ç’∂’® ’Ω’ø’∏÷Ä÷á</h3>
    <form id="rsvpForm">
      <input type="text" id="name" placeholder="‘±’∂’∏÷Ç’∂ ’°’¶’£’°’∂’∏÷Ç’∂ *"><br>
      <input type="tel" id="phone" placeholder="’Ä’•’º’°’≠’∏’Ω’°’∞’°’¥’°÷Ä *" inputmode="tel"><br>
      <input type="number" id="count" placeholder="‘±’∂’±’°’∂÷Å ÷Ñ’°’∂’°’Ø *" inputmode="numeric" min="1"><br>
      <select id="status">
        <option value="" disabled selected hidden>‘∏’∂’ø÷Ä’•’¨ *</option>
        <option value="‘±’µ’∏">’Ñ’•’Æ ’Ω’´÷Ä’∏’æ</option>
        <option value="’à’π">’ë’°’æ’∏÷Ñ ’∏’π</option>
      </select><br>
      <button type="submit">’Ä’°’Ω’ø’°’ø’•’¨</button>
    </form>

    <p id="response"></p>
  </div>

  <script>
    /* üéµ (1) –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º—É–∑—ã–∫–∏ —á–µ—Ä–µ–∑ 0.8 —Å–µ–∫—É–Ω–¥—ã */
    window.addEventListener("load", () => {
      const music = document.getElementById("bg-music");
      // –ü–æ–ø—ã—Ç–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ –ø–æ—Å–ª–µ –∑–∞–¥–µ—Ä–∂–∫–∏ (–æ–±—Ö–æ–¥–∏—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É)
      setTimeout(() => {
        music.play().catch(() => {
          // –ï—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç, –≤–∫–ª—é—á–∏–º –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ
          document.body.addEventListener("click", () => music.play(), { once: true });
        });
      }, 800);
    });

    /* üß∏ (7) –°–µ–∫—Ä–µ—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ 5 –∫–ª–∏–∫–∞—Ö –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É */
    let secretClicks = 0;
    document.getElementById("main-card").addEventListener("click", () => {
      secretClicks++;
      if (secretClicks === 5) {
        showPopup("üéâ ’ç’∏’Ω’® ’¥’•’Æ ’Ω’´÷Ä’∏’æ ’Ω’∫’°’Ω’∏÷Ç’¥ ’ß üéâ");
        secretClicks = 0;
      }
      setTimeout(() => secretClicks = 0, 2000);
    });

    /* –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞ */
    function startCountdown() {
      const targetDate = new Date("2025-11-27T18:00:00");
      const countdownEl = document.getElementById("countdown");

      function updateCountdown() {
        const now = new Date();
        const diff = targetDate - now;

        if (diff <= 0) {
          countdownEl.innerHTML = "üéâ ’è’∏’∂’°’Ø’°’ø’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’® ’Ω’Ø’Ω’æ’•’¨ ’ß üéâ";
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);

        countdownEl.innerHTML = `’Ñ’∂’°÷Å’•’¨ ’ß’ù <b>${days}</b> ÷Ö÷Ä <b>${hours}</b> ’™’°’¥ <b>${minutes}</b> ÷Ä’∏’∫’• <b>${seconds}</b> ’æ’°’µ÷Ä’Ø’µ’°’∂`;
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    }
    startCountdown();
    
    /* –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã */
    document.getElementById("rsvpForm").addEventListener("submit", function(e){
      e.preventDefault();

      const name = document.getElementById("name").value;
      const phone = document.getElementById("phone").value.trim();
      const count = document.getElementById("count").value.trim();
      const status = document.getElementById("status").value;

      if (!name.trim() || !phone || !count || !status) {
          showPopup("‘Ω’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ’¨÷Ä’°÷Å’∂’•’¨ ’¢’∏’¨’∏÷Ä ’∫’°÷Ä’ø’°’§’´÷Ä ’∂’∑’æ’°’Æ ’§’°’∑’ø’•÷Ä’®÷â");
          return;
      }

      fetch("https://sheetdb.io/api/v1/73phymm5nctlc", {
        method: "POST",
        body: JSON.stringify({
          data: [{ name, phone, count, status }]
        }),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => res.json())
      .then(() => {
        showPopup(`’Ä’°÷Ä’£’•’¨’´ <b>${name}</b>, ’§’∏÷Ç÷Ñ ’∞’°’ª’∏’≤’∏÷Ç’©’µ’°’¥’¢ ’£÷Ä’°’∂÷Å’æ’•÷Å’´÷Ñ`);
        document.getElementById("rsvpForm").reset();
        celebrate(); // üí• –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
      })
      .catch(() => {
        showPopup(`’Ä’°÷Ä’£’•’¨’´ <b>${name}</b>, ’£÷Ä’°’∂÷Å’æ’•’¨’∏÷Ç ’®’∂’©’°÷Å÷Ñ’∏÷Ç’¥ ’°’º’°’ª’°÷Å’•’¨ ’ß ’≠’∂’§’´÷Ä, ’≠’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ÷É’∏÷Ä’±’•÷Ñ ’Ø÷Ä’Ø’´’∂`);
      });
    });

    /* üí• (4) –ö–æ–Ω—Ñ–µ—Ç—Ç–∏-–∞–Ω–∏–º–∞—Ü–∏—è –≤–º–µ—Å—Ç–æ –ø–æ–¥–∞—Ä–∫–∞ */
    function celebrate() {
      const canvas = document.getElementById("confetti-canvas");
      const ctx = canvas.getContext("2d");
      const confetti = [];

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —á–∞—Å—Ç–∏—Ü—ã –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
      for (let i = 0; i < 150; i++) {
        confetti.push({
          x: Math.random() * canvas.width,
          y: canvas.height + Math.random() * 100,
          r: Math.random() * 6 + 4,
          d: Math.random() * 0.5 + 0.3,
          color: `hsl(${Math.random() * 360}, 100%, 60%)`,
          tilt: Math.random() * 10 - 5,
        });
      }

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        confetti.forEach((c) => {
          ctx.beginPath();
          ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
          ctx.fillStyle = c.color;
          ctx.fill();
        });
        update();
      }

      function update() {
        for (let i = 0; i < confetti.length; i++) {
          const c = confetti[i];
          c.y -= c.d * 10;
          c.x += Math.sin(c.tilt / 10);
          c.tilt += 1;
          if (c.y < -20) confetti.splice(i, 1);
        }
      }

      let animation = setInterval(() => {
        draw();
        if (confetti.length === 0) clearInterval(animation);
      }, 30);
    }

    /* –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ */
    function showPopup(message) {
      const popup = document.getElementById("popup");
      document.getElementById("popup-message").innerHTML = message;

      popup.style.display = "flex";
      popup.classList.remove("fade-out");

      setTimeout(() => {
        popup.classList.add("fade-out");
        setTimeout(() => {
          popup.style.display = "none";
        }, 500);
      }, 4500);
    }

    function closePopup() {
      const popup = document.getElementById("popup");
      popup.classList.add("fade-out");
      setTimeout(() => { popup.style.display = "none"; }, 500);
    }
  </script>
</body>
</html>

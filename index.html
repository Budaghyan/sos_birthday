<!DOCTYPE html>
<html lang="hy">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéÇ ’ç’∏’Ω’´ ’ø’°÷Ä’•’§’°÷Ä’± üéÇ</title>

  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="images/favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="images/favicon-512x512.png">
  <meta name="theme-color" content="#333333">
  
  <style>
    html, body {
      margin: 0;
      font-family: "Comic Sans MS", cursive, sans-serif;
      background: url("images/background.jpg") no-repeat center center fixed;
      background-size: cover;
      text-align: center;
      color: #333;
      height: 100%;
      overflow-y: auto;
      overflow-x: hidden;
    }

    /* ‚ú® (8) ’î’°÷Ä’ø’´’Ø’´ ’°’∂’´’¥’°÷Å’´’°’ù ’ß’ª’´ ’¢’•’º’∂’¥’°’∂ ’™’°’¥’°’∂’°’Ø */
    .card {
      margin: 30px auto;
      background: rgba(102, 102, 102, 0.3);
      border-radius: 20px;
      padding: 30px;
      width: 100%;
      max-width: 500px;
      box-shadow: 0 0 25px rgba(0,0,0,0.3);
      box-sizing: border-box;
      animation: slideUp 1s ease-out; /* ‘±’æ’•’¨’°÷Å’æ’°’Æ ’ß */
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 { color: #dbdbdb; font-size: 2em; }
    h3 { color: #fffff0; font-size: 1.3em; }

    input, select, button {
      font-family: inherit;
    }

    input {
      width: 88%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.5);
    }

    select {
      width: 93%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.5);
   }

    button {
      width: 70%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 10px;
      font-size: 16px;
      background: rgba(0, 0, 0, 0.9);
      color: #fff;
      border: none;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }

    button:hover { background: rgba(124, 124, 124, 0.9); }

    ::placeholder { color: #000; }

    .popup {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 999;
      justify-content: center;
      align-items: center;
    }
    
    .popup-content {
      background: #fff;
      padding: 20px 30px;
      border-radius: 15px;
      text-align: center;
      max-width: 300px;
      width: 80%;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      animation: popIn 0.3s ease;
    }
    
    @keyframes popIn {
      from { transform: scale(0.7); opacity: 0; }
      to   { transform: scale(1); opacity: 1; }
    }
    
    .popup-content p {
      font-size: 1.2em;
      margin-bottom: 15px;
    }
    
    .popup-content button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background: #333;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: 0.3s;
    }
    
    .popup-content button:hover {
      background: #666;
    }

    .popup.fade-out {
      animation: fadeOut 0.5s forwards;
    }
    
    @keyframes fadeOut {
      from { opacity: 1; }
      to   { opacity: 0; }
    }

    #countdown {
      font-size: 1.3em;
      color: #fff;
      margin: 20px 0;
    }

    /* üéà (1) ‘ø’∏’∂÷Ü’•’ø’ø’´ canvas ’°’¥’¢’∏’≤’ª ’ß’Ø÷Ä’°’∂’∏’æ */
    #confetti {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    /* üéµ (3) ‘µ÷Ä’°’™’∑’ø’∏÷Ç’©’µ’°’∂ ’Ø’∏’≥’°’Ø’´ ’±÷á’°’æ’∏÷Ä’∏÷Ç’¥ */
    #music-btn {
      position: fixed;
      bottom: 15px;
      right: 15px;
      background: rgba(255,255,255,0.7);
      border: none;
      border-radius: 50%;
      padding: 15px;
      font-size: 20px;
      cursor: pointer;
      z-index: 10;
      transition: 0.3s;
    }

    #music-btn:hover { background: rgba(255,255,255,0.9); }

  </style>
</head>
<body>
  <!-- üéà (1) ‘ø’∏’∂÷Ü’•’ø’ø’´ ÷Ü’∏’∂ -->
  <canvas id="confetti"></canvas>

  <!-- üéµ (3) ‘µ÷Ä’°’™’∑’ø’∏÷Ç’©’µ’∏÷Ç’∂ ÷á ’Ø’∏’≥’°’Ø -->
  <audio id="bg-music" loop>
    <source src="music/happy_birthday.mp3" type="audio/mpeg">
  </audio>
  <button id="music-btn">üîä ’ä’°÷Ä’•’û’∂÷Ñ</button>

  <div id="popup" class="popup">
    <div class="popup-content">
      <p id="popup-message"></p>
      <button onclick="closePopup()">’ì’°’Ø’•’¨</button>
    </div>
  </div>

  <div class="card" id="main-card">
    <h1>’Ñ’•’∂÷Ñ ’∑’∏÷Ç’ø’∏’æ 5 ’ø’°÷Ä’•’Ø’°’∂ ’•’∂÷Ñ</h1>
    <p style="color: #fffff0; font-size: 1.2em;">’ç’´÷Ä’∏’æ ’∞÷Ä’°’æ’´÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ’±’•’¶` <br>’¥’°’Ω’∂’°’Ø÷Å’•’¨’∏÷Ç <b>’ç’∏’Ω’´</b> ’Æ’∂’∂’§’µ’°’∂ ÷á ’¥’°’ø’°’≤’´ ’°÷Ä’°÷Ä’∏’≤’∏÷Ç’©’µ’°’∂’® ÷á ’¥’•’¶ ’∞’•’ø ’Ø’´’Ω’•’¨’∏÷Ç ’°’µ’§ ’Ø’°÷Ä÷á’∏÷Ä ’∏÷Ç ’∞’´’∑’°÷Ä’™’°’∂ ÷Ö÷Ä’®</p>
    <p style="color: #fffff0; font-size: 1.2em;">’ç’´÷Ä’∏’æ ’Ø’Ω’∫’°’Ω’•’∂÷Ñ ’±’•’¶’ù <br><span style="text-align: center;"><b>üìÖ 27 ’Ü’∏’µ’•’¥’¢’•÷Ä’´ 2025<br>üìç ‘ø’´’¨’´’Ø’´’∏ ’£’°÷Ä’§’•’∂ <br>üïï ‘∫’°’¥’® 18:00</span></b></p>
    <p id="countdown"></p>
    <p><a href="https://yandex.com/maps/-/CLBII2kZ" style="color: #fffff0; font-size: 1.2em;"><b>‘ª’∂’π’∫’•’û’Ω ’∞’°’Ω’∂’•’¨</b></a></p>
    <h3 style="font-style: normal;">‘Ω’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ’∞’°’Ω’ø’°’ø’•’¨ ’±’•÷Ä ’¥’°’Ω’∂’°’Ø÷Å’∏÷Ç’©’µ’∏÷Ç’∂’® ’Ω’ø’∏÷Ä÷á</h3>
    <form id="rsvpForm">
      <input type="text" id="name" placeholder="‘±’∂’∏÷Ç’∂ ’°’¶’£’°’∂’∏÷Ç’∂ *"><br>
      <input type="tel" id="phone" placeholder="’Ä’•’º’°’≠’∏’Ω’°’∞’°’¥’°÷Ä *" inputmode="tel"><br>
      <input type="number" id="count" placeholder="‘±’∂’±’°’∂÷Å ÷Ñ’°’∂’°’Ø *" inputmode="numeric" min="1"><br>
      <select id="status">
        <option value="" disabled selected hidden>‘∏’∂’ø÷Ä’•’¨ *</option>
        <option value="‘±’µ’∏">’Ñ’•’Æ ’Ω’´÷Ä’∏’æ</option>
        <option value="’à’π">’ë’°’æ’∏÷Ñ ’∏’π</option>
      </select><br>
      <button type="submit">’Ä’°’Ω’ø’°’ø’•’¨</button>
    </form>

    <p id="response"></p>
  </div>

  <script>
    /* üéà (1) ‘ø’∏’∂÷Ü’•’ø’ø’´ ’°’∂’´’¥’°÷Å’´’° */
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    const confetti = Array.from({length: 120}, () => ({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height - canvas.height,
      r: Math.random() * 6 + 2,
      d: Math.random() * 0.5 + 0.5,
      color: `hsl(${Math.random() * 360}, 70%, 60%)`
    }));
    function drawConfetti() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      confetti.forEach(c => {
        ctx.beginPath();
        ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2);
        ctx.fillStyle = c.color;
        ctx.fill();
      });
      confetti.forEach(c => {
        c.y += c.d * 2;
        if (c.y > canvas.height) {
          c.y = -10;
          c.x = Math.random() * canvas.width;
        }
      });
      requestAnimationFrame(drawConfetti);
    }
    drawConfetti();

    /* üéµ (3) ‘µ÷Ä’°’™’∑’ø’∏÷Ç’©’µ’°’∂ ’Ø’∏’≥’°’Ø’´ ’£’∏÷Ä’Æ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂ */
    document.getElementById("music-btn").addEventListener("click", () => {
      const music = document.getElementById("bg-music");
      music.play();
      document.getElementById("music-btn").style.display = "none";
    });

    /* üß∏ (7) ‘≥’°’≤’ø’∂’´ ’∞’°’ø’æ’°’Æ’ù 5 ’°’∂’£’°’¥ ’Ω’•’≤’¥’•’¨ ÷Ñ’°÷Ä’ø’´’Ø’´ ’æ÷Ä’° */
    let secretClicks = 0;
    document.getElementById("main-card").addEventListener("click", () => {
      secretClicks++;
      if (secretClicks === 5) {
        showPopup("üß∏ ’ç’∏’Ω’´ ’∫’°÷Ä’∏÷Ç’¥ ’ß üéâ");
        secretClicks = 0;
      }
      setTimeout(() => secretClicks = 0, 2000);
    });

    /* ’Ä’´’¥’∂’°’Ø’°’∂ countdown-’® (unchanged) */
    function startCountdown() {
      const targetDate = new Date("2025-11-27T18:00:00");
      const countdownEl = document.getElementById("countdown");

      function updateCountdown() {
        const now = new Date();
        const diff = targetDate - now;

        if (diff <= 0) {
          countdownEl.innerHTML = "üéâ ’è’∏’∂’°’Ø’°’ø’°÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’® ’Ω’Ø’Ω’æ’•’¨ ’ß üéâ";
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);

        countdownEl.innerHTML = `’Ñ’∂’°÷Å’•’¨ ’ß’ù <b>${days}</b> ÷Ö÷Ä <b>${hours}</b> ’™’°’¥ <b>${minutes}</b> ÷Ä’∏’∫’• <b>${seconds}</b> ’æ’°’µ÷Ä’Ø’µ’°’∂`;
      }

      updateCountdown();
      setInterval(updateCountdown, 1000);
    }
    startCountdown();
    
    /* ’Ä’´’¥’∂’°’Ø’°’∂ ’±÷á’® (unchanged registration logic) */
    document.getElementById("rsvpForm").addEventListener("submit", function(e){
      e.preventDefault();

      const name = document.getElementById("name").value;
      const name_ch = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const count = document.getElementById("count").value.trim();
      const status = document.getElementById("status").value;

      if (!name_ch || !phone || !count || !status) {
          showPopup("‘Ω’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ’¨÷Ä’°÷Å’∂’•’¨ ’¢’∏’¨’∏÷Ä ’∫’°÷Ä’ø’°’§’´÷Ä ’∂’∑’æ’°’Æ ’§’°’∑’ø’•÷Ä’®÷â");
          return;
      }

      fetch("https://sheetdb.io/api/v1/73phymm5nctlc", {
        method: "POST",
        body: JSON.stringify({
          data: [{
            name: name,
            phone: phone,
            count: count,
            status: status
          }]
        }),
        headers: { "Content-Type": "application/json" }
      })
      .then(res => res.json())
      .then(data => {
        showPopup(`’Ä’°÷Ä’£’•’¨’´ <b>${name}</b>, ’§’∏÷Ç÷Ñ ’∞’°’ª’∏’≤’∏÷Ç’©’µ’°’¥’¢ ’£÷Ä’°’∂÷Å’æ’•÷Å’´÷Ñ`);
        document.getElementById("rsvpForm").reset();
        celebrate(); // üéÅ (4) ‘±’æ’•’¨’°÷Å’æ’°’Æ ’ß’ù ’∞’°’ª’∏’≤ ’£÷Ä’°’∂÷Å’¥’°’∂ ’ø’∏’∂’°’Ø’°’∂ ’°’∂’´’¥’°÷Å’´’°
      })
      .catch(err => {
        showPopup(`’Ä’°÷Ä’£’•’¨’´ <b>${name}</b>, ’£÷Ä’°’∂÷Å’æ’•’¨’∏÷Ç ’®’∂’©’°÷Å÷Ñ’∏÷Ç’¥ ’°’º’°’ª’°÷Å’•’¨ ’ß ’≠’∂’§’´÷Ä, ’≠’∂’§÷Ä’∏÷Ç’¥ ’•’∂÷Ñ ÷É’∏÷Ä’±’•÷Ñ ’Ø÷Ä’Ø’´’∂`);
      });
    });

    /* üéÅ (4) ’Ä’°’ª’∏’≤ ’£÷Ä’°’∂÷Å’¥’°’∂ ’™’°’¥’°’∂’°’Ø’ù ’∫’°÷Ä’£÷á’´ ’°’∂’´’¥’°÷Å’´’° */
    function celebrate() {
      const gift = document.createElement("div");
      gift.innerHTML = "üéÅ";
      gift.style.position = "fixed";
      gift.style.fontSize = "60px";
      gift.style.bottom = "-100px";
      gift.style.left = Math.random() * 80 + "%";
      gift.style.transition = "all 4s ease-out";
      gift.style.zIndex = "1000";
      document.body.appendChild(gift);
      setTimeout(() => gift.style.bottom = "120%", 100);
      setTimeout(() => gift.remove(), 4000);
    }

    /* ’Ä’´’¥’∂’°’Ø’°’∂ popup ÷Ü’∏÷Ç’∂’Ø÷Å’´’°’∂ */
    function showPopup(message) {
      const popup = document.getElementById("popup");
      document.getElementById("popup-message").innerHTML = message;

      popup.style.display = "flex";
      popup.classList.remove("fade-out");

      setTimeout(() => {
        popup.classList.add("fade-out");
        setTimeout(() => {
          popup.style.display = "none";
        }, 500);
      }, 4500);
    }

    function closePopup() {
      const popup = document.getElementById("popup");
      popup.classList.add("fade-out");
      setTimeout(() => { popup.style.display = "none"; }, 500);
    }

  </script>
</body>
</html>
